{"version":3,"sources":["src/L.Deflate.js"],"names":["L","Deflate","FeatureGroup","extend","options","minSize","markerCluster","markerOptions","markerClusterOptions","markerType","marker","initialize","Util","setOptions","this","_layers","_needsPrepping","_featureLayer","_getFeatureLayer","markerLayer","console","warn","markerClusterGroup","featureGroup","_getBounds","path","Circle","addTo","_map","bounds","getBounds","removeLayer","_isCollapsed","zoom","computedBounds","northEastPixels","project","getNorthEast","southWestPixels","getSouthWest","width","Math","abs","x","height","y","_getZoomThreshold","zoomThreshold","getZoom","_bindInfoTools","parentLayer","_popupHandlersAdded","bindPopup","_popup","_content","_tooltipHandlersAdded","bindTooltip","_tooltip","_bindEvents","events","_events","eventKeys","Object","getOwnPropertyNames","eventParents","_eventParents","eventParentKeys","i","lenI","length","listeners","j","lenJ","on","fn","_makeMarker","layer","allowedMarkerTypes","circleMarker","indexOf","Error","getCenter","markerFeature","feature","toGeoJSON","undefined","properties","prepLayer","zoomState","_addToMap","layerToAdd","addLayer","layers","len","push","getLayerId","layerId","layerIndex","splice","clearLayers","_switchDisplay","showMarker","_deflate","endZoom","eachLayer","intersects","onAdd","map","onRemove","off","deflate"],"mappings":"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"}