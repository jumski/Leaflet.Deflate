{"version":3,"sources":["src/L.Deflate.js"],"names":["L","Layer","include","_originalRemove","prototype","remove","this","marker","Map","_originalRemoveLayer","removeLayer","layer","Deflate","FeatureGroup","extend","options","minSize","markerOptions","markerType","initialize","Util","setOptions","_layers","_needsPrepping","_featureLayer","_getFeatureLayer","markerLayer","featureGroup","_getBounds","path","Circle","addTo","_map","bounds","getBounds","_isCollapsed","zoom","computedBounds","northEastPixels","project","getNorthEast","southWestPixels","getSouthWest","width","Math","abs","x","height","y","_getZoomThreshold","zoomThreshold","getZoom","_bindInfoTools","parentLayer","_popupHandlersAdded","bindPopup","_popup","_content","_tooltipHandlersAdded","bindTooltip","_tooltip","_bindEvents","events","_events","eventKeys","Object","getOwnPropertyNames","eventParents","_eventParents","eventParentKeys","i","lenI","length","listeners","j","lenJ","on","fn","_makeMarker","allowedMarkerTypes","circleMarker","indexOf","Error","getCenter","markerFeature","feature","toGeoJSON","undefined","properties","prepLayer","zoomState","_addToMap","layerToAdd","addLayer","layers","len","push","getLayerId","layerId","layerIndex","splice","clearLayers","_switchDisplay","showMarker","_deflate","endZoom","eachLayer","intersects","onAdd","map","onRemove","off","deflate"],"mappings":"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"}