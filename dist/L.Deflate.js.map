{"version":3,"sources":["src/L.Deflate.js"],"names":["L","Layer","include","_originalRemove","prototype","remove","this","marker","Map","_originalRemoveLayer","removeLayer","layer","Deflate","FeatureGroup","extend","options","minSize","markerCluster","markerOptions","markerClusterOptions","markerType","initialize","Util","setOptions","_layers","_needsPrepping","_featureLayer","_getFeatureLayer","markerLayer","console","warn","markerClusterGroup","featureGroup","_getBounds","path","Circle","addTo","_map","bounds","getBounds","_isCollapsed","zoom","computedBounds","northEastPixels","project","getNorthEast","southWestPixels","getSouthWest","width","Math","abs","x","height","y","_getZoomThreshold","zoomThreshold","getZoom","_bindInfoTools","parentLayer","_popupHandlersAdded","bindPopup","_popup","_content","_tooltipHandlersAdded","bindTooltip","_tooltip","_bindEvents","events","_events","eventKeys","Object","getOwnPropertyNames","eventParents","_eventParents","eventParentKeys","i","lenI","length","listeners","j","lenJ","on","fn","_makeMarker","allowedMarkerTypes","circleMarker","indexOf","Error","getCenter","markerFeature","feature","toGeoJSON","undefined","properties","prepLayer","zoomState","_addToMap","layerToAdd","addLayer","layers","len","push","getLayerId","layerId","layerIndex","splice","clearLayers","_switchDisplay","showMarker","_deflate","endZoom","eachLayer","intersects","onAdd","map","onRemove","off","deflate"],"mappings":"AAAA,aAEAA,EAAEC,MAAMC,QAAQ,CACdC,gBAAiBH,EAAEC,MAAMG,UAAUC,OACnCA,OAAQ,WACN,GAAIC,KAAKC,OAAQ,CAAED,KAAKC,OAAOF,SAC/B,OAAOC,KAAKH,qBAIhBH,EAAEQ,IAAIN,QAAQ,CACZO,qBAAsBT,EAAEQ,IAAIJ,UAAUM,YACtCA,YAAa,SAAUC,OACrB,GAAIA,MAAMJ,OAAQ,CAAEI,MAAMJ,OAAOF,SACjC,OAAOC,KAAKG,qBAAqBE,UAIrCX,EAAEY,QAAUZ,EAAEa,aAAaC,OAAO,CAChCC,QAAS,CACPC,QAAS,GACTC,cAAe,MACfC,cAAe,GACfC,qBAAsB,GACtBC,WAAYpB,EAAEO,QAGhBc,WAAY,SAAUN,SACpBf,EAAEsB,KAAKC,WAAWjB,KAAMS,SACxBT,KAAKkB,QAAU,GACflB,KAAKmB,eAAiB,GACtBnB,KAAKoB,cAAgBpB,KAAKqB,iBAAiBZ,UAG7CY,iBAAkB,WAChB,GAAIrB,KAAKS,QAAQa,YAAa,CAC5B,OAAOtB,KAAKS,QAAQa,YAGtB,GAAItB,KAAKS,QAAQE,cAAe,CAC9BY,QAAQC,KAAK,wLACb,OAAO9B,EAAE+B,mBAAmBzB,KAAKS,QAAQI,sBAG3C,OAAOnB,EAAEgC,aAAa1B,KAAKS,UAG7BkB,WAAY,SAAUC,MAOpB,GAAIA,gBAAgBlC,EAAEmC,OAAQ,CAC5BD,KAAKE,MAAM9B,KAAK+B,MAChB,MAAMC,OAASJ,KAAKK,YACpBjC,KAAK+B,KAAK3B,YAAYwB,MACtB,OAAOI,OAET,OAAOJ,KAAKK,aAGdC,aAAc,SAAUN,KAAMO,MAC5B,MAAMH,OAASJ,KAAKQ,eAEpB,MAAMC,gBAAkBrC,KAAK+B,KAAKO,QAAQN,OAAOO,eAAgBJ,MACjE,MAAMK,gBAAkBxC,KAAK+B,KAAKO,QAAQN,OAAOS,eAAgBN,MAEjE,MAAMO,MAAQC,KAAKC,IAAIP,gBAAgBQ,EAAIL,gBAAgBK,GAC3D,MAAMC,OAASH,KAAKC,IAAIJ,gBAAgBO,EAAIV,gBAAgBU,GAC5D,OAAQD,OAAS9C,KAAKS,QAAQC,SAAWgC,MAAQ1C,KAAKS,QAAQC,SAGhEsC,kBAAmB,SAAUpB,MAC3B,IAAIqB,cACJ,IAAId,KAAOnC,KAAK+B,KAAKmB,UACrB,GAAIlD,KAAKkC,aAAaN,KAAM5B,KAAK+B,KAAKmB,WAAY,CAChD,OAAQD,cAAe,CACrBd,MAAQ,EACR,IAAKnC,KAAKkC,aAAaN,KAAMO,MAAO,CAClCc,cAAgBd,KAAO,QAGtB,CACL,OAAQc,cAAe,CACrBd,MAAQ,EACR,GAAInC,KAAKkC,aAAaN,KAAMO,MAAO,CACjCc,cAAgBd,OAItB,OAAOc,eAGTE,eAAgB,SAAUlD,OAAQmD,aAChC,GAAIA,YAAYC,oBAAqB,CACnCpD,OAAOqD,UAAUF,YAAYG,OAAOC,SAAUJ,YAAYG,OAAO9C,SAGnE,GAAI2C,YAAYK,sBAAuB,CACrCxD,OAAOyD,YAAYN,YAAYO,SAASH,SAAUJ,YAAYO,SAASlD,WAI3EmD,YAAa,SAASA,YAAY3D,OAAQmD,aACxC,MAAMS,OAAST,YAAYU,QAC3B,MAAMC,UAAYF,OAASG,OAAOC,oBAAoBJ,QAAU,GAChE,MAAMK,aAAed,YAAYe,cACjC,MAAMC,gBAAkBF,aAAeF,OAAOC,oBAAoBC,cAAgB,GAElFlE,KAAKmD,eAAelD,OAAQmD,aAE5B,IAAK,IAAIiB,EAAI,EAAGC,KAAOP,UAAUQ,OAAQF,EAAIC,KAAMD,GAAK,EAAG,CACzD,MAAMG,UAAYX,OAAOE,UAAUM,IACnC,IAAK,IAAII,EAAI,EAAGC,KAAOF,UAAUD,OAAQE,EAAIC,KAAMD,GAAK,EAAG,CACzDxE,OAAO0E,GAAGZ,UAAUM,GAAIG,UAAUC,GAAGG,KAMzC,IAAKxB,YAAYe,cAAe,CAAE,OAElC,IAAK,IAAIE,EAAI,EAAGC,KAAOF,gBAAgBG,OAAQF,EAAIC,KAAMD,GAAK,EAAG,CAC/D,IAAKjB,YAAYe,cAAcC,gBAAgBC,IAAItC,KAAM,CACvD/B,KAAK4D,YAAY3D,OAAQmD,YAAYe,cAAcC,gBAAgBC,KAInErE,KAAKmD,eAAeC,YAAaA,YAAYe,cAAcC,gBAAgBC,QAKjFQ,YAAa,SAAUxE,OACrB,MAAMyE,mBAAqB,CAACpF,EAAEO,OAAQP,EAAEqF,cACxC,GAAID,mBAAmBE,QAAQhF,KAAKS,QAAQK,eAAiB,EAAG,CAC9D,MAAM,IAAImE,MAAM,qFAElB,MAAMrE,qBAAuBZ,KAAKS,QAAQG,gBAAkB,WACxDZ,KAAKS,QAAQG,cAAcP,OAC3BL,KAAKS,QAAQG,cACjB,MAAMX,OAASD,KAAKS,QAAQK,WAAWT,MAAM+B,eAAe8C,YAAatE,eACzE,MAAMuE,cAAgB9E,MAAM+E,QAAUnF,OAAOoF,YAAcC,UAE3DtF,KAAK4D,YAAY3D,OAAQI,OAEzB,GAAI8E,cAAe,CACjBA,cAAcI,WAAalF,MAAM+E,QAAQG,WACzCtF,OAAOmF,QAAUD,cAGnB,OAAOlF,QAGTuF,UAAW,SAAUnF,OACnB,GAAIA,MAAM4B,UAAW,CACnB5B,MAAM+B,eAAiBpC,KAAK2B,WAAWtB,OAEvCA,MAAM4C,cAAgBjD,KAAKgD,kBAAkB3C,OAC7CA,MAAMJ,OAASD,KAAK6E,YAAYxE,OAChCA,MAAMoF,UAAYzF,KAAK+B,KAAKmB,YAIhCwC,UAAW,SAAUrF,OACnB,MAAMsF,WAAa3F,KAAK+B,KAAKmB,WAAa7C,MAAM4C,cAAgB5C,MAAMJ,OAASI,MAC/EL,KAAKoB,cAAcwE,SAASD,aAG9BC,SAAU,SAAUvF,OAClB,MAAMwF,OAASxF,iBAAiBX,EAAEa,aAAeyD,OAAOC,oBAAoB5D,MAAMa,SAAW,GAC7F,GAAI2E,OAAOtB,OAAQ,CACjB,IAAK,IAAIF,EAAI,EAAGyB,IAAMD,OAAOtB,OAAQF,EAAIyB,IAAKzB,GAAK,EAAG,CACpDrE,KAAK4F,SAASvF,MAAMa,QAAQ2E,OAAOxB,UAEhC,CACL,GAAIrE,KAAK+B,KAAM,CACb/B,KAAKwF,UAAUnF,OACfL,KAAK0F,UAAUrF,WACV,CACLL,KAAKmB,eAAe4E,KAAK1F,OAE3BL,KAAKkB,QAAQlB,KAAKgG,WAAW3F,QAAUA,QAI3CD,YAAa,SAAUC,OACrB,MAAMwF,OAASxF,iBAAiBX,EAAEa,aAAeyD,OAAOC,oBAAoB5D,MAAMa,SAAW,GAE7F,GAAI2E,OAAOtB,OAAQ,CACjB,IAAK,IAAIF,EAAI,EAAGyB,IAAMD,OAAOtB,OAAQF,EAAIyB,IAAKzB,GAAK,EAAG,CACpDrE,KAAKI,YAAYC,MAAMa,QAAQ2E,OAAOxB,UAEnC,CACL,MAAM4B,QAAU5F,SAASL,KAAKkB,QAAUb,MAAQL,KAAKgG,WAAW3F,OAEhEL,KAAKoB,cAAchB,YAAYJ,KAAKkB,QAAQ+E,UAC5C,GAAIjG,KAAKkB,QAAQ+E,SAAShG,OAAQ,CAChCD,KAAKoB,cAAchB,YAAYJ,KAAKkB,QAAQ+E,SAAShG,eAGhDD,KAAKkB,QAAQ+E,SAEpB,MAAMC,WAAalG,KAAKmB,eAAe6D,QAAQhF,KAAKkB,QAAQ+E,UAC5D,GAAIC,cAAgB,EAAG,CAAElG,KAAKmB,eAAegF,OAAOD,WAAY,MAIpEE,YAAa,WACXpG,KAAKoB,cAAcgF,cACnBpG,KAAKkB,QAAU,IAGjBmF,eAAgB,SAAUhG,MAAOiG,YAC/B,GAAIA,WAAY,CACdtG,KAAKoB,cAAcwE,SAASvF,MAAMJ,QAClCD,KAAKoB,cAAchB,YAAYC,WAC1B,CACLL,KAAKoB,cAAcwE,SAASvF,OAC5BL,KAAKoB,cAAchB,YAAYC,MAAMJ,UAIzCsG,SAAU,WACR,MAAMvE,OAAShC,KAAK+B,KAAKE,YACzB,MAAMuE,QAAUxG,KAAK+B,KAAKmB,UAE1BlD,KAAKyG,WAAU,SAAUpG,OACvB,GAAIA,MAAMJ,QAAUI,MAAMoF,YAAce,SAAWnG,MAAM+B,eAAesE,WAAW1E,QAAS,CAC1FhC,KAAKqG,eAAehG,MAAOmG,SAAWnG,MAAM4C,eAC5C5C,MAAMoF,UAAYe,WAEnBxG,OAGL2G,MAAO,SAAUC,KACf5G,KAAKoB,cAAcU,MAAM8E,KACzB5G,KAAK+B,KAAK4C,GAAG,UAAW3E,KAAKuG,SAAUvG,MACvCA,KAAK+B,KAAK4C,GAAG,UAAW3E,KAAKuG,SAAUvG,MAEvC,IAAK,IAAIqE,EAAI,EAAGyB,IAAM9F,KAAKmB,eAAeoD,OAAQF,EAAIyB,IAAKzB,GAAK,EAAG,CACjErE,KAAK4F,SAAS5F,KAAKmB,eAAekD,IAEpCrE,KAAKmB,eAAiB,GACtBnB,KAAKuG,YAGPM,SAAU,SAAUD,KAClBA,IAAIxG,YAAYJ,KAAKoB,eACrBpB,KAAK+B,KAAK+E,IAAI,UAAW9G,KAAKuG,SAAUvG,MACxCA,KAAK+B,KAAK+E,IAAI,UAAW9G,KAAKuG,SAAUvG,SAI5CN,EAAEqH,QAAU,SAAUtG,SACpB,OAAO,IAAIf,EAAEY,QAAQG"}